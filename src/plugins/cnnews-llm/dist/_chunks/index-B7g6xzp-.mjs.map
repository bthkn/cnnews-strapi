{"version":3,"file":"index-B7g6xzp-.mjs","sources":["../../admin/src/pluginId.ts","../../admin/src/components/Initializer.tsx","../../admin/src/components/PluginIcon.tsx","../../admin/src/index.ts"],"sourcesContent":["// @ts-nocheck\r\n\r\nexport const PLUGIN_ID = 'cnnews';\r\n","// @ts-nocheck\r\nimport { useEffect, useRef } from 'react';\r\n\r\nimport { PLUGIN_ID } from '../pluginId';\r\n\r\ntype InitializerProps = {\r\n  setPlugin: (id: string) => void;\r\n};\r\n\r\nconst Initializer = ({ setPlugin }: InitializerProps) => {\r\n  const ref = useRef(setPlugin);\r\n\r\n  useEffect(() => {\r\n    ref.current(PLUGIN_ID);\r\n  }, []);\r\n\r\n  return null;\r\n};\r\n\r\nexport { Initializer };\r\n","// @ts-nocheck\r\nimport { PuzzlePiece } from '@strapi/icons';\r\n\r\nconst PluginIcon = () => <PuzzlePiece />;\r\n\r\nexport { PluginIcon };\r\n","// @ts-nocheck\r\n\r\nimport { getTranslation } from './utils/getTranslation';\r\nimport { PLUGIN_ID } from './pluginId';\r\nimport { Initializer } from './components/Initializer';\r\nimport { PluginIcon } from './components/PluginIcon';\r\n\r\nexport default {\r\n  register(app: any) {\r\n    app.addMenuLink({\r\n      to: `plugins/${PLUGIN_ID}`,\r\n      icon: PluginIcon,\r\n      intlLabel: {\r\n        id: `${PLUGIN_ID}.plugin.name`,\r\n        defaultMessage: PLUGIN_ID,\r\n      },\r\n      Component: async () => {\r\n        const { App } = await import('./pages/App');\r\n\r\n        return App;\r\n      },\r\n    });\r\n\r\n    app.registerPlugin({\r\n      id: PLUGIN_ID,\r\n      initializer: Initializer,\r\n      isReady: false,\r\n      name: PLUGIN_ID,\r\n    });\r\n  },\r\n\r\n  async registerTrads({ locales }: { locales: string[] }) {\r\n    return Promise.all(\r\n      locales.map(async (locale) => {\r\n        try {\r\n          const { default: data } = await import(`./translations/${locale}.json`);\r\n\r\n          return { data, locale };\r\n        } catch {\r\n          return { data: {}, locale };\r\n        }\r\n      })\r\n    );\r\n  },\r\n};\r\n"],"names":["PLUGIN_ID","Initializer","setPlugin","ref","useRef","useEffect","PluginIcon","jsx","PuzzlePiece","index","app","App","locales","locale","data","__variableDynamicImportRuntimeHelper"],"mappings":";;;;;;;;;;;;;;;GAEaA,IAAY,UCOnBC,IAAc,CAAC,EAAE,WAAAC,QAAkC;AACjD,QAAAC,IAAMC,EAAOF,CAAS;AAE5B,SAAAG,EAAU,MAAM;AACd,IAAAF,EAAI,QAAQH,CAAS;AAAA,EACvB,GAAG,EAAE,GAEE;AACT,GCdMM,IAAa,MAAM,gBAAAC,EAACC,GAAY,EAAA,GCIvBC,IAAA;AAAA,EACb,SAASC,GAAU;AACjB,IAAAA,EAAI,YAAY;AAAA,MACd,IAAI,WAAWV,CAAS;AAAA,MACxB,MAAMM;AAAA,MACN,WAAW;AAAA,QACT,IAAI,GAAGN,CAAS;AAAA,QAChB,gBAAgBA;AAAA,MAClB;AAAA,MACA,WAAW,YAAY;AACrB,cAAM,EAAE,KAAAW,EAAA,IAAQ,MAAM,OAAO,oBAAa;AAEnC,eAAAA;AAAA,MAAA;AAAA,IACT,CACD,GAEDD,EAAI,eAAe;AAAA,MACjB,IAAIV;AAAA,MACJ,aAAaC;AAAA,MACb,SAAS;AAAA,MACT,MAAMD;AAAA,IAAA,CACP;AAAA,EACH;AAAA,EAEA,MAAM,cAAc,EAAE,SAAAY,KAAkC;AACtD,WAAO,QAAQ;AAAA,MACbA,EAAQ,IAAI,OAAOC,MAAW;AACxB,YAAA;AACF,gBAAM,EAAE,SAASC,MAAS,MAAMC,EAAA,uBAAA,OAAA,EAAA,0BAAA,MAAA,OAAA,mBAAA,EAAA,CAAA,GAAA,kBAAAF,CAAA,SAAA,CAAA;AAEzB,iBAAA,EAAE,MAAAC,GAAM,QAAAD,EAAO;AAAA,QAAA,QAChB;AACN,iBAAO,EAAE,MAAM,CAAC,GAAG,QAAAA,EAAO;AAAA,QAAA;AAAA,MAE7B,CAAA;AAAA,IACH;AAAA,EAAA;AAEJ;"}